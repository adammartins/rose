#-------------------------------------------------------------------------------
# (C) British Crown Copyright 2012-6 Met Office.
#
# This file is part of Rose, a framework for meteorological suites.
#
# Rose is free software: you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation, either version 3 of the License, or
# (at your option) any later version.
#
# Rose is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.
#
# You should have received a copy of the GNU General Public License
# along with Rose. If not, see <http://www.gnu.org/licenses/>.
#-------------------------------------------------------------------------------
# Rose site/user configuration example
# To activate this file, place it at $ROSE_HOME/etc/rose.conf
#-------------------------------------------------------------------------------

# Common site configuration.
[]
#
## Default method for checksum calculation
## Values can be any algorithm available from Python's hashlib
#  checksum-method=md5|sha1|...
## E.g.:
#  checksum-method=sha1
## Paths to locate configuration metadata
#  meta-path=DIR1[:DIR2[:...]]
## E.g.:
#  meta-path=/opt/rose-meta
## URL to Rose documentation.
#  rose-doc=http://metomi.github.io/rose/doc/
[]

# Configuration of external commands.
[external]
#
## Launch diff tool (default='diff -u')
#  diff_tool=diff -y
## Launch text editor (default=vi).
#  editor=gvim -f
## Launch graphical diff tool (default=gvimdiff).
#  gdiff_tool=meld
## Launch graphical text editor (default=gedit).
#  geditor=gvim -f
## Launch graphical file system browser (default=nautilus).
#  fs_browser=konqueror
## Launch image viewer (default=eog).
#  image_viewer=eog --new-instance
## The rsync command.
#  rsync=rsync -a --exclude=.* --timeout=1800 --rsh='ssh -oBatchMode=yes'
## The ssh command.
#  ssh=ssh -oBatchMode=yes -oConnectTimeout=10
## Launch terminal (default=xterm).
#  terminal=konsole
[external]

## LDAP settings are only relevant if "[rosa-svn]user-tool=ldap".
[rosa-ldap]
#
## The attributes for UID, common name and email in the LDAP directory.
## (default=uid cn mail)
#  attrs=uid cn mail
## The base DN in the LDAP directory to search for users
#  basedn=BASEDN
## The DN in the LDAP server to bind with to search the directory
#  binddn=BINDDN
## If specified, use the value as extra (AND) filters to an LDAP search
#  filter-more=
## The file containing the password to the LDAP server, if required.
## (default=~/.ldappw)
#  password-file=
## The location of the TLS CA certificate file
#  tls-ca-file=
## The URI of the LDAP server
#  uri=ldap://my-ldap.my-domain
[rosa-ldap]

# Configuration for "rosa svn-pre-commit" and "rosa svn-post-commit".
[rosa-svn]
#
## Admin users allowed to write to the trunk of any suite.
#  super-users=USER1 ...
## E.g.:
#  super-users=spiderman batman
## List of user roles to notify on trunk commits. A user role can be:
## * "author" for the author of the change.
## * "owner" for the owner of the affected suite.
## * "access-list" for the users in the access-list of the affected suite.
## N.B. If author is not in the list, (s)he will not be notified regardless
##      his/her role as owner or member of the access-list.
#  notify-who-on-trunk-commit=ROLE1 ...
## E.g.:
#  notify-who-on-trunk-commit=author owner access-list
## Notification email address (for the "From:" field in notification emails)
#  notification-from=EMAIL-ADDRESS
## E.g.:
#  notification-from=notifications@my-host.my-org.org
## Tool to obtain user information. LDAP or Unix getpwnam.
#  user-tool=ldap|passwd
## E.g.:
#  user-tool=ldap
[rosa-svn]

# Configuration for Rose Bush server. (Numeric examples are default values.)
[rose-bush]
#
## Cycles list view: default number of cycles per page
#  cycles-per-page=100
## An alternate host name. (Default is the server's host name.)
#  host=NAME
## E.g.:
#  host=my-wonderful-host
## Job list view: default number of jobs per page
#  jobs-per-page=15
## Job list view: maximum number of jobs per page
#  jobs-per-page-max=300
## Image logo attributes, can be any HTML <img/> tag attributes
## logo=HTML-IMG-ATTRIBUTE ...
## E.g.:
#  logo=src="http://server/my-rose-bush-logo.png" alt="My Rose Bush Logo"
## Suites list view: default number of suites per page
#  suites-per-page=100
## An alternate service title (Default="Rose Bush")
## title=TITLE
## E.g.:
#  title=Mulberry Bush
## File view: maximum viewable file size in bytes
#  view-size-max=10485760
[rose-bush]

# Configuration specific to "rose config-diff".
[rose-config-diff]
#
## Metadata properties to use (default='title,ns,description,help')
# properties=title,ns,description,help
## Shorthand expressions for ignore-setting regexes
# ignore{foo}=^baz,bar,w[ib]ble
[rose-config-diff]

# Configuration specific to "rose config-edit".
[rose-config-edit]
#
# See the $ROSE_HOME/lib/python/rose/config_editor/__init__.py for detail.
## Path to a picture containing the suite engine icon.
#  icon-path-scheduler=/opt/cylc/images/icon.svg
## Hyperlink to Rose project page. (default=https://github.com/metomi/rose/).
#  project-url=https://host/rose/
[rose-config-edit]

# Configuration related to "rose host-select".
[rose-host-select]
#
## The default arguments to use for this command.
#  default=GROUP/HOST ...
## E.g.:
#  default=hpc
## Declare a named group of hosts.
#  group{NAME}=GROUP/HOST ...
## E.g.:
#  group{rose-vm}=rose-vm0 rose-vm1 rose-vm2 rose-vm3
#  group{hpc}=hpc1 hpc2
#  group{hpc1}=hpc1a hpc1b hpc1c hpc1d
#  group{hpc2}=hpc2a hpc2b hpc2c hpc2d
## Declare the default ranking method for a group of hosts.
#  method{NAME}=METHOD[:METHOD-ARG]
## E.g.:
#  method{hpc}=random
## Declare the default threshold(s) for a group of hosts.
#  thresholds{NAME}=[METHOD[:METHOD-ARG]:]VALUE ...
## E.g.:
#  thresholds{hpc}=fs:/var/tmp:75 fs:/tmp:75
#  thresholds{linux}=mem:8000
## Set the timeout in seconds of SSH commands to hosts. (default=10.0)
#  timeout=FLOAT
## E.g.:
#  timeout=5.0
[rose-host-select]

# Configuration related to "rose stem".
[rose-stem]
#
## Automatic options. These are added as if the user added them with 
## --define-suite on the command line and can be accessed as Jinja2 variables 
## in the suite.rc file. E.g.:
# automatic-options=TEA=earl_grey
## would set the Jinja2 variable TEA to be earl_grey
[rose-stem]

# Configuration related to "rose suite-hook"
[rose-suite-hook]
#
## Default host name for email addresses. (Use "localhost" if not specified.)
#  email-host=HOST
## E.g.:
#  email-host=myorganisation.org
#
## SMTP server host. (Use "localhost" if not specified.)
#  smtp-host=HOST[:PORT]
## E.g.:
#  smtp-host=mysmtp.myorganisation.org:2525
[rose-suite-hook]

# Configuration related to "rose suite-log"
[rose-suite-log]
#
## Mapping $HOME/cylc-run/SUITE to a http:// URL.
## E.g. If $HOME/public_html/cylc-run is a symlink of $HOME/cylc-run
##      and $HOME/public_html/ is served as http://host/~$USER/:
#  home-public-html=http://host/~$USER public_html
## URL to the site's Rose Bush web service.
#  rose-bush=http://host/rose-bush/
[rose-suite-log]

# Configuration related to "rose mpi-launch".
[rose-mpi-launch]
#
## Specify a list of launcher commands.
#  launcher-list=LAUNCHER ...
## E.g.:
#  launcher-list=poe mpiexec
## Specify the options to a LAUNCHER for launching with a command file.
## The template string should contain "$ROSE_COMMAND_FILE" (or
## "${ROSE_COMMAND_FILE}"), which will be expanded to the path to the
## command file.
#  launcher-fileopts.LAUNCHER=OPTION-TEMPLATE
## E.g.:
#  launcher-fileopts.poe=-f $ROSE_COMMAND_FILE
#  launcher-fileopts.mpiexec=-cmdfile $ROSE_COMMAND_FILE
## Specify the options to a LAUNCHER for launching with a command.
## "preopts" are options placed after the launcher command but before
## COMMAND. "postopts" are options placed after COMMAND but before the
## remaining arguments.
#  launcher-preopts.LAUNCHER=OPTIONS-TEMPLATE
#  launcher-postopts.LAUNCHER=OPTIONS-TEMPLATE
## E.g.:
#  launcher-preopts.mpiexec=-n $NPROC
[rose-mpi-launch]

# Configuration related to "rose suite-run".
[rose-suite-run]
#
## Hosts in [rose-host-select] section that can be used to run a suite.
#  hosts=HOST-GROUP|HOST ...
## E.g.:
#  hosts=rose-vm
## Hosts in [rose-host-select] section that can be scanned by rose utilities.
#  scan-hosts=HOST-GROUP|HOST ...
## E.g.:
#  scan-hosts=localhost rose-vm
## Root location of a suite run directory (default=$HOME)
#  root-dir=HOST-GLOB=$HOST-DIR
#          =...
## where HOST-GLOB is a glob for matching host names.
##       HOST-DIR is value of the root location for matching hosts
#  root-dir=hpc*=$DATADIR
#          =*=$HOME
## Root location of a suite run's "share/" directory (default=$HOME)
## Syntax is the same as "root-dir".
#  root-dir{share}=HOST-GLOB=$HOST-DIR
#                 =...
## Root location of a suite run's "share/cycle/" directory (default=$HOME)
## Syntax is the same as "root-dir".
#  root-dir{share/cycle}=HOST-GLOB=$HOST-DIR
#                       =...
## Root location of a suite run's "work/" directory (default=$HOME)
## Syntax is the same as "root-dir".
#  root-dir{work}=HOST-GLOB=$HOST-DIR
#                =...
[rose-suite-run]

# Configuration related to "rose task-run".
[rose-task-run]
#
## Items to prepend to the PATH environment variable
#  path-prepend=/path/1 /path/2
## Items to prepend to the a PATH-like environment variable, e.g. PYTHONPATH
#  path-prepend.PYTHONPATH=
[rose-task-run]

# Calling "rose" on a remote host.
[rose-home-at]
#
## Alternate path to "rose" for all hosts
#  * =/opt/rose
## Alternate path to "rose" for a specific host
#  hostname=/opt/site/rose
[rose-home-at]

# Configuration related to the built-in "rose_ana" application.
[rose-ana]
#
## Items to prepend to the search path for user methods
#  method-path=/path/1 /path2
[rose-ana]

# Configuration related to the database of the Rosie web service server
[rosie-db]
#
## The database location of a given repository prefix, from within the server
#  db.PREFIX=URL
## E.g. (To create/reference an SQLite DB at "/srv/rosie/foo-db.sqlite"):
#  db.foo=sqlite:////srv/rosie/foo-db.sqlite
## The path to the repository of a given prefix, from within the server
#  repos.PREFIX=DIR
## E.g.:
#  repos.foo=/srv/svn/foo
[rosie-db]

# Configuration related to the adhoc Rosie suite discovery service server
[rosie-disco]
#
## An alternate host name. (Default is the server's host name.)
#  host=NAME
## E.g.:
#  host=my-wonderful-host
## An alternate service title (Default="Rosie Suites Discovery")
## title=TITLE
## E.g.:
#  title=Mulberry Suites Discovery
[rosie-disco]

# Configuration related to "rosie go" GUI
# See the $ROSE_HOME/lib/python/rosie/browser/__init__.py for detail.
[rosie-go]
#
## Path to a picture containing the suite engine icon.
#  icon-path-scheduler=/opt/cylc/images/icon.svg
## Hyperlink to Rose project page. (default=https://github.com/metomi/rose/).
#  project-url=https://host/rose/
[rosie-go]

# Configuration related to Rosie client commands
[rosie-id]
#
## Root directory of local (working) copies of suites (default=$HOME/roses)
#  local-copy-root=DIR
## E.g.:
#  local-copy-root=$HOME/my-work/roses
## The default ID prefix (an identifier for a Rosie repository/service)
#  prefix-default=PREFIX
## E.g.:
#  prefix-default=foo
## For HTTPS requests, verify SSL certificates? (default=True)
#  prefix-https-ssl-verify.PREFIX=True|False
## E.g.:
#  prefix-https-ssl-verify.foo=False
## For HTTPS requests, location(s) of certificate + private key files
#  prefix-https-ssl-cert.PREFIX=/path/to/server.pem
#  prefix-https-ssl-cert.PREFIX=/path/to/server.crt /path/to/key
## URL of the repository of an ID prefix, no trailing slash
#  prefix-location.PREFIX=URL
## E.g.:
#  prefix-location.foo=svn://host/foo
## The password store to use.
## Default is to try "gpgagent", then "gnomekeyring"
#  prefix-password-store.PREFIX=gpgagent|gnomekeyring
## E.g.:
#  prefix-password-store.foo=gnomekeyring
## For HTTPS requests, location(s) of certificate + private key files
#  prefix-https-ssl-cert.PREFIX=/path/to/server.pem
#  prefix-https-ssl-cert.PREFIX=/path/to/server.crt /path/to/key
## Default user name for services in prefix
#  prefix-username.PREFIX=USER-ID
## E.g.:
#  prefix-username.foo=tinky-winky
## Source browser (e.g. Trac) URL of the repository of an ID prefix
#  prefix-web.PREFIX=URL
## E.g.:
#  prefix-web.foo=http://host/projects/foo/intertrac/source:
## Discovery service URL of an ID prefix
#  prefix-ws.PREFIX=URL
## E.g.:
#  prefix-ws.foo=http://host:port/rosie/foo
## List of default discovery services (space delimited list of prefixes)
## that will be used by a Rosie discovery service client
#  prefixes-ws-default=PREFIX ...
## E.g.:
#  prefixes-ws-default=foo bar baz
[rosie-id]

# Configuration related to the Rosie version control client
[rosie-vc]
#
## Default access-list setting on suite creation
#  access-list-default=USER-ID ...
## E.g. to grant access to all users by default:
#  access-list-default=*
[rosie-vc]

# Test Battery Configuration
[t]
#
## Tool to compare 2 files when there are differences.
## (default="diff -u")
#  difftool=COMMAND ...
## E.g.:
#  difftool=xxdiff
#
## List of selectable host groups
#  host-groups=GROUP ...
## E.g.:
#  host-groups=my-hpc my-cluster
#
## A remote host that does not share its HOME directory with localhost
#  job-host=HOST
## E.g.:
#  job-host=my-hpc01
## A fast file system for working with small files in job-host
#  job-host-fast-dest-root=PATH
## E.g.:
#  job-host-fast-dest-root=/var/tmp/$USER
## A remote host that shares its HOME directory with localhost
#  job-host-with-share=HOST
## E.g.:
#  job-host-with-share=my-cluster01
## A fast file system for working with small files in job-host-with-share
#  job-host-with-share-fast-dest-root=PATH
## E.g.:
#  job-host-with-share-fast-dest-root=/var/run/$USER
#
## Options for "prove" when calling "rose test-battery" with no arguments.
## (default="-j9 -s")
## Note that "-r t" is automatically added to the end of the command line.
#  prove-options=PROVE-OPTIONS ...
## E.g.:
#  prove-options=-j 6 -s
[t]
